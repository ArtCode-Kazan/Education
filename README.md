# Тестовое web приложение FastApi

Установка зависимостей выполняется командой:
```commandline
poetry install
```

## Создание образа
Находясь в директории dbase-service, нужно выполнить команду:
```commandline
docker build -t image-name .
```

## Работа с .env файлом
В директории service необходимо создать файл с именем `.env`. В нем содержатся
переменные, необходимые для работы с сервисом. Значения POSTGRES_USER,
POSTGRES_PASSWORD, POSTGRES_DB нужно взять в dockerfile,
а POSTGRES_PORT и POSTGRES_HOST задаются при запуске контейнера.
Пример, как нужно заполнять .env файл:
```commandline
POSTGRES_DB=test-dbase
POSTGRES_USER=test-user
POSTGRES_PASSWORD=password
POSTGRES_PORT=7777
POSTGRES_HOST=127.0.0.1
```

## Запуск контейнера с базой данных
Для запуска контейнера спользуется следующая команда:
```commandline
docker run --name container-name -p host:local-port:container-port image-name
```
, где host - адрес хоста (должен соответствовать POSTGRES_HOST в .env),
local-port - используемый порт (должен соответствовать POSTGRES_PORT в .env),
container-port - порт внутри контейнера.

## База данных
В результате будет создана база данных, содержащая одну таблицу samples с
полями id и name

## Описание
Сервис содержит простую ручку `/get`, которая возвращает строку с текстом.
Ручка `/post` добавляет новую запись в таблицу samples и возвращает сообщение
об успешности добавления.
Ручка `/get-all` возвращает все записи из таблицы samples в виде списка.

## Установка сервиса
Для установки сервиса необходим пакет Poetry для Python


## Запуск сервиса
Сервис запускается командой:
```commandline
python3.8 main.py
```

Локально работу сервиса можно проверить в браузере по url: 
http://localhost:3789/get, http://localhost:3789/post
http://localhost:3789/get-all.



# Задание
1. Клонировать репозиторий Education в свое удаленное хранилище репозиториев.
2. Выполнение задания должно идти в ветке с именем Docker-solving
3. Необходимо упаковать приложение в Docker файл. Предварительно нужно 
   развернуть приложение локально и проверить, что оно запускается.
   Docker файл должен находиться рядом с файлом `README.md`
4. При работе нужно обязательно сделать несколько коммитов (!)
5. После завершения работы нужно сделать пулл реквест на _@MikkoArtik_ 
   (ветка Docker-solving олжна сливаться в ветку Docker)
6. Ожидать ревью и выполнить правки
7. Создать `.dockerignore` файл для приложений на Python
8. Отправить работу на проверку
9. По окончании ревью создать образ и загрузить его в **_свое_** хранилище 
   образов на github